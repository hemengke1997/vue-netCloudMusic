{"version":3,"file":"20.js","sources":["webpack:///./src/views/album/index.vue?eacf","webpack:///./src/views/album/index.vue?b139","webpack:///./src/views/album/index.vue?bff7","webpack:///./src/views/album/index.vue?6f3a","webpack:///./src/api/search-api.js","webpack:///./src/views/album/index.vue","webpack:///./src/views/album/index.vue?e08a","webpack:///./src/views/album/index.vue?0183","webpack:///./src/views/album/index.vue?14aa"],"sourcesContent":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PAhead from \"@/components/playlist&album/PAhead\";\nimport MusicList from \"@/components/Musiclist\";\nimport DetailDes from \"@/components/playlist&album/DetailDes\";\nimport Loading from \"public/Loading\";\nimport CollectSheet from \"public/CollectSheet\";\nimport Comment from \"@/components/comment/Comment\";\nimport { getAlbumDetails } from \"@/api/search-api\";\nimport { getAlbumComments } from \"@/api/comment-api\";\nimport { OK } from \"js/config\";\nimport { Promise } from \"q\";\nexport default {\n  data: function data() {\n    return {\n      tempSongs: [],\n      musicA: {\n        song: [],\n        rank: true,\n        SQ: false,\n        red: false\n      },\n      isLoading: true,\n      tempAlbum: {\n        description: \" \"\n      },\n      text: \"收藏歌单\",\n      commentOBJ: {},\n      // 总的comment对象\n      comments: [],\n      //  最新评论\n      hotComments: [] // 热门评论\n\n    };\n  },\n  components: {\n    PAhead: PAhead,\n    Loading: Loading,\n    DetailDes: DetailDes,\n    MusicList: MusicList,\n    CollectSheet: CollectSheet,\n    Comment: Comment\n  },\n  computed: {\n    // 转换歌曲列表格式\n    songs: function songs() {\n      return this.tempSongs.map(function (item) {\n        return {\n          id: item.id,\n          name: item.name,\n          alias: item.alia,\n          ar: item.ar,\n          al: {\n            name: item.al.name,\n            id: item.al.id\n          }\n        };\n      });\n    },\n    album: function album() {\n      return {\n        blurPicUrl: this.tempAlbum.blurPicUrl,\n        coverImgUrl: this.tempAlbum.picUrl,\n        name: this.tempAlbum.name,\n        artists: this.tempAlbum.artists,\n        publishTime: this.tempAlbum.publishTime,\n        description: this.tempAlbum.description\n      };\n    },\n    id: function id() {\n      return this.$route.query.id;\n    }\n  },\n  methods: {\n    _getAlbumDetails: function _getAlbumDetails(id) {\n      var _this = this;\n\n      getAlbumDetails(id).then(function (res) {\n        if (res.status === OK) {\n          _this.tempSongs = res.data.songs;\n          _this.tempAlbum = res.data.album;\n          _this.musicA.song = _this.songs;\n\n          var p1 = _this.$store.dispatch(\"playlist/setMusicList\", _this.musicA);\n\n          var p2 = _this.$store.dispatch(\"playlist/setAlbum\", _this.album);\n\n          Promise.all([p1, p2, _this._getAlbumComments(_this.id)]).then(function () {\n            _this.isLoading = false;\n          });\n        }\n      });\n    },\n    _getAlbumComments: function _getAlbumComments(id) {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        getAlbumComments(id).then(function (res) {\n          if (res.status === OK) {\n            _this2.commentOBJ = res.data;\n            _this2.comments = res.data.comments;\n            _this2.hotComments = res.data.hotComments;\n          }\n\n          resolve();\n        });\n      });\n    }\n  },\n  created: function created() {\n    this._getAlbumDetails(this.id);\n  }\n};","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\"PAhead\", { attrs: { type: 2 } }),\n      _vm._v(\" \"),\n      _vm.tempAlbum.description\n        ? _c(\"detail-des\", { attrs: { type: 2 } })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\"music-list\", { attrs: { highlight: false } }, [\n        _c(\"h3\", { staticClass: \"list_title\" }, [_vm._v(\"歌曲列表\")])\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"album_comment\" },\n        [\n          _vm.hotComments.length\n            ? _c(\"h3\", { staticClass: \"list_title\" }, [_vm._v(\"精彩评论\")])\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"comment\", { attrs: { type: 1, commentOBJ: _vm.commentOBJ } }),\n          _vm._v(\" \"),\n          _vm.hotComments.length < 15 && _vm.comments.length\n            ? _c(\"h3\", { staticClass: \"list_title\" }, [\n                _vm._v(\"最新评论(\" + _vm._s(_vm.commentOBJ.total) + \")\")\n              ])\n            : _vm._e(),\n          _vm._v(\" \"),\n          _c(\"comment\", { attrs: { type: 2, commentOBJ: _vm.commentOBJ } })\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"collect-sheet\", { attrs: { text: _vm.text } }),\n      _vm._v(\" \"),\n      _vm.isLoading ? _c(\"loading\") : _vm._e()\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".highlight[data-v-fe2dd7f0]{color:#507daf}.list_title[data-v-fe2dd7f0]{height:23px;line-height:23px;padding:0 10px;font-size:12px;color:#666;background-color:#eeeff0}\", \"\"]);\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fe2dd7f0&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"aa8325ce\", content, false, {\"sourceMap\":false,\"shadowMode\":false});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fe2dd7f0&lang=less&scoped=true&\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fe2dd7f0&lang=less&scoped=true&\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","import { HOST } from 'js/config';\nimport axios from 'axios';\n\nfunction getSearchList(keyword) {\n  var url = HOST + \"/search/suggest?keywords=\".concat(keyword, \"&type=mobile\");\n  return axios.get(url);\n}\n\nfunction searchSong(keyword) {\n  var limit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var url = HOST + \"/search?keywords=\".concat(keyword, \"&limit=\").concat(limit, \"&offset=\").concat(offset);\n  return axios.get(url);\n}\n\nfunction searchSinger(keyword) {\n  var url = HOST + \"/search?keywords=\".concat(keyword, \"&type=100\");\n  return axios.get(url);\n}\n\nfunction searchAlbum(keyword) {\n  var url = HOST + \"/search?keywords=\".concat(keyword, \"&type=10\");\n  return axios.get(url);\n}\n\nfunction searchMV(keyword) {\n  var url = HOST + \"/search?keywords=\".concat(keyword, \"&type=1004\");\n  return axios.get(url);\n}\n\nfunction gotoSinger(id) {\n  var url = HOST + \"/artists?id=\".concat(id);\n  return axios.get(url);\n}\n\nfunction getAlbumDetails(id) {\n  var url = HOST + \"/album?id=\".concat(id);\n  return axios.get(url);\n}\n\nexport { getSearchList, searchSong, searchSinger, searchAlbum, searchMV, gotoSinger, getAlbumDetails };","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=fe2dd7f0&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=fe2dd7f0&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe2dd7f0\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\github\\\\vue-first\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('fe2dd7f0')) {\n      api.createRecord('fe2dd7f0', component.options)\n    } else {\n      api.reload('fe2dd7f0', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=fe2dd7f0&scoped=true&\", function () {\n      api.rerender('fe2dd7f0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/album/index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fe2dd7f0&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=fe2dd7f0&lang=less&scoped=true&\"","export * from \"-!cache-loader?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"b3604394-vue-loader-template\\\"}!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=fe2dd7f0&scoped=true&\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/CA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}